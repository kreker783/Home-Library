{% extends "./base.html" %}
{% load static %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/pages/catalog_styles.css' %}">
{% endblock extra_head %}


{% block content %}
    <main>
        <form action="{% url 'catalog' %}" method="get">
            {% csrf_token %}
            <label for="id_search_query" class="text_search">Search for books:</label>
            <input type="text" id="id_search_query" name="search_query" value="{{ form.search_query.value }}">
            <button type="submit" class="search">Search</button>
        </form>


        {% if result %}
            <div class="book-container">
                {% for book in result %}
                <a href="book/{{ book.3 }}" class="book">
                    {% if book.4 %}
                        <img src="{{ book.4 }}" alt="{{ book.0 }}">
                    {% else %}
                        <img src="{% static 'images/no-cover.jpg' %}" alt="Nothing" height="500" width="300">
                    {% endif %}
                    <h3>{{ book.0 }} {{ book.1 }}</h3>
                    <p>by {{ book.2 }}</p>
                </a>
                {% endfor %}

                <a href="{{ modified_url }}&start_index={{ prev_start_index }}&max_results={{ max_results }}" class="previous page">&laquo; Previous</a>
                <a href="{{ modified_url }}&start_index={{ next_start_index }}&max_results={{ max_results }}" class="next page">Next &raquo;</a>
            </div>
        {% endif %}
    </main>
{% endblock content %}